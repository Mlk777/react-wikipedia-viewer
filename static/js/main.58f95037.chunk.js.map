{"version":3,"sources":["images/logo.png","styles/GlobalStyle.js","components/Header.js","styles/StyledSearchBar.js","context.js","config.js","components/SearchBar.js","utils/useInputChange.js","styles/StyledRandomButton.js","components/RandomButton.js","styles/StyledGridItem.js","components/GridItem.js","styles/StyledGrid.js","components/Grid.js","styles/StyledLoadMoreButton.js","components/LoadMoreButton.js","App.js","index.js"],"names":["module","exports","GlobalStyle","createGlobalStyle","Header","className","style","textShadow","lineHeight","src","logo","alt","StyledSearchBarContent","styled","div","props","extendedSize","AppContext","React","createContext","AppProvider","useState","articles","setArticles","searchTerm","setSearchTerm","totalResults","setTotalResults","offset","setOffset","searchArticles","a","fetch","json","result","query","search","searchinfo","totalhits","console","error","loadMoreArticles","Provider","value","children","SearchBar","inputField","useRef","input","setInput","e","currentTarget","name","useInputChange","handleInputChange","useContext","onSubmit","preventDefault","current","blur","type","ref","onChange","onFocus","target","placeholder","onBlur","StyledRandomButton","RandomButton","href","rel","size","StyledGridItems","GridItem","title","pageId","articleData","setArticleData","data","articleUrl","useEffect","request","pages","padding","substring","replace","extract","fullurl","StyledGrid","Grid","map","article","key","pageid","StyledLoadMoreButton","button","LoadMoreButton","scrollBottom","scrollIntoView","behavior","onClick","display","length","gridRowStart","gridRowEnd","App","ReactDOM","render","document","getElementById"],"mappings":"0HAAAA,EAAOC,QAAU,IAA0B,kC,ugBCEpC,IAAMC,EAAcC,YAAH,K,iBCcTC,EAbA,kBACb,4BACEC,UAAU,0HACVC,MAAO,CACLC,WAAY,kCACZC,WAAY,WAGd,yBAAKC,IAAKC,IAAMC,IAAI,qBAAqBN,UAAU,sBAPrD,qB,siBCFK,IAAMO,EAAyBC,IAAOC,IAAV,KAgBlB,SAAAC,GAAK,OAAIA,EAAMC,gB,8BCf1BC,EAAaC,IAAMC,gBAEnBC,EAAc,SAAAL,GAAU,IAAD,EACKM,mBAAS,IADd,mBACpBC,EADoB,KACVC,EADU,OAESF,mBAAS,IAFlB,mBAEpBG,EAFoB,KAERC,EAFQ,OAGaJ,mBAAS,GAHtB,mBAGpBK,EAHoB,KAGNC,EAHM,OAICN,mBAAS,IAJV,mBAIpBO,EAJoB,KAIZC,EAJY,KAMrBC,EAAc,uCAAG,WAAMN,GAAN,eAAAO,EAAA,sEAEnBR,EAAY,IACZI,EAAgB,GAHG,SAISK,MAAM,GAAD,OCdrC,8FDcqC,OAAiBR,IAJ/B,8BAI8CS,OAJ9C,OAIbC,EAJa,OAMnBT,EAAcD,GACdD,EAAYW,EAAOC,MAAMC,QACzBT,EAAgBO,EAAOC,MAAME,WAAWC,WARrB,kDAUnBC,QAAQC,MAAR,MAVmB,0DAAH,sDAcdC,EAAgB,uCAAG,WAAMjB,GAAN,eAAAO,EAAA,sEAErBF,EAAUD,EAAS,IAFE,SAIbI,MAAM,GAAD,OCzBjB,6GDyBiB,OAAoBR,EAApB,qBAA2CI,IAJnC,8BAKnBK,OALmB,OAGfC,EAHe,OAMrBX,EAAY,GAAD,mBAAKD,GAAL,YAAkBY,EAAOC,MAAMC,UANrB,kDAQrBG,QAAQC,MAAR,MARqB,0DAAH,sDAYtB,OACE,kBAACvB,EAAWyB,SAAZ,CACEC,MAAO,CACLnB,aACAF,WACAI,eACAI,iBACAW,mBACAhB,gBACAF,cACAI,oBAGDZ,EAAM6B,WEOEC,EAlDG,WAChB,IAAMC,EAAaC,iBAAO,MADJ,ECLM,WAAO,IAAD,EACR1B,mBAAS,IADD,mBAC3B2B,EAD2B,KACpBC,EADoB,KAMlC,MAAO,CAACD,EAHkB,SAAAE,GAAC,OACzBD,EAAS,eAAKD,EAAN,eAAcE,EAAEC,cAAcC,KAAOF,EAAEC,cAAcR,WDG5BU,GAFb,mBAEfL,EAFe,KAERM,EAFQ,OAQlBC,qBAAWtC,GAJba,EAJoB,EAIpBA,eACAL,EALoB,EAKpBA,cACAF,EANoB,EAMpBA,YACAI,EAPoB,EAOpBA,gBAiBF,OACE,oCACE,0BAAM6B,SAhBO,SAAAN,GACfA,EAAEO,iBACF3B,EAAekB,EAAMZ,QACrBU,EAAWY,QAAQC,SAcf,yBAAKtD,UAAU,4CACb,kBAACO,EAAD,CACEP,UAAU,2DACVW,aAAa,OAEb,2BACE4C,KAAK,OACLR,KAAK,SACLS,IAAKf,EACLgB,SAAUR,EACVS,QArBI,SAAAb,GACdzB,EAAc,IACdyB,EAAEc,OAAOC,YAAc,kCACvBf,EAAEc,OAAOrB,MAAQ,GACjBpB,EAAY,IACZI,EAAgB,IAiBNuC,OAAQ,SAAAhB,GAAC,OAAKA,EAAEc,OAAOC,YAAc,YACrCA,YAAY,WACZ5D,UAAU,uF,8HE7CjB,IAAM8D,EAAqBtD,IAAOkB,EAAV,KCgBhBqC,EAdM,WACnB,OACE,yBAAK/D,UAAU,kDACb,kBAAC8D,EAAD,CACEE,KAAK,+CACLL,OAAO,SACPM,IAAI,uBAEJ,kBAAC,IAAD,CAAajE,UAAU,YAAY+C,KAAK,eAAemB,KAAK,U,6QCV7D,IAAMC,EAAkB3D,IAAOC,IAAV,KC6Cb2D,EA1CE,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAAa,EACAtD,mBAAS,IADT,mBAC/BuD,EAD+B,KAClBC,EADkB,KAEhCC,EAAOvB,qBAAWtC,GAClB8D,EAAU,2EAAuEJ,EAAvE,oFAUhB,OARAK,qBAAU,WACR,sBAAC,8BAAAjD,EAAA,sEACuBC,MAAM,GAAD,OAAI+C,IADhC,cACOE,EADP,gBAEsBA,EAAQhD,OAF9B,OAEOC,EAFP,OAGC2C,EAAe3C,EAAOC,MAAM+C,MAAM,IAHnC,0CAAD,KAKC,IAGD,kBAACV,EAAD,CAAiBnE,UAAU,6DACzB,yBAAKA,UAAU,oBAAoBC,MAAO,CAAE6E,QAAS,YAElDT,EAAMU,UAAU,EAAG,IAAIC,QAAQ,KAAM,KAExC,6BACE,wBAAIhF,UAAU,iBAEhB,6BAEGuE,EAAYU,SAAZ,UACIV,EAAYU,QAAQF,UAAU,EAAG,IAAIC,QAAQ,QAAS,IAD1D,QAGH,6BAEE,uBACEhB,KAAMS,EAAKxD,SAASiE,QACpBvB,OAAO,SACPM,IAAI,sBACJjE,UAAU,sCAJZ,gB,qNChCD,IAAMmF,EAAa3E,IAAOC,IAAV,KC8BR2E,EA1BF,WACX,IAAMX,EAAOvB,qBAAWtC,GAExB,OACE,yBAAKZ,UAAU,gBACZyE,EAAKpD,aAAe,GACnB,uBAAGrB,UAAU,4BACX,0BAAMA,UAAU,yBAAyByE,EAAKpD,cAAqB,IADrE,mBAKF,kBAAC8D,EAAD,KAEGV,EAAKxD,UACJwD,EAAKxD,SAASoE,KAAI,SAAAC,GAAO,OACvB,kBAAC,EAAD,CACEC,IAAKD,EAAQE,OACbnB,MAAOiB,EAAQjB,MACfC,OAAQgB,EAAQE,e,+ICtBvB,IAAMC,EAAuBjF,IAAOkF,OAAV,KCwClBC,EArCQ,WAAO,IAAD,EACYzC,qBAAWtC,GAA1CwB,EADmB,EACnBA,iBAAkBnB,EADC,EACDA,SAClBE,EAAe+B,qBAAWtC,GAA1BO,WACFyE,EAAelD,iBAAO,MAc5B,OAJAiC,qBAAU,WAHRiB,EAAavC,QAAQwC,eAAe,CAAEC,SAAU,aAK/C,CAAC7E,IAGF,4BACE8E,QAda,SAAAlD,GACfT,EAAiBjB,IAcfnB,UAAU,2CACVC,MAAO,CACL+F,QAA6B,IAApB/E,EAASgF,OAAe,OAAS,GAC1CC,aAAc,EACdC,WAAY,IAGd,kBAACV,EAAD,CACEzF,UAAU,yEACVwD,IAAKoC,GAFP,iBCVSQ,EAbH,kBACV,kBAAC,EAAD,KACE,oCACE,kBAACvG,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,S,MCZNwG,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.58f95037.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9282ac41.png\";","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    height: 100vh;\n    width: 100vw;\n    max-width: 100%;\n    background: #f1edea;  \n    background: -webkit-linear-gradient(to right, #FFFFFF, #f1edea);  \n    background: linear-gradient(to right, #FFFFFF, #f1edea); \n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n`;\n","import React from 'react';\nimport logo from '../images/logo.png';\n\nconst Header = () => (\n  <header\n    className='flex flex-col md:flex-row items-center text-center md:justify-center p-4 text-blue-900 text-6xl font-bold tracking-wide'\n    style={{\n      textShadow: 'rgba(0, 9, 10, 0.7) 1px 1px 5px',\n      lineHeight: '4.5rem'\n    }}\n  >\n    <img src={logo} alt='Wikipedia logo svg' className='m-4 w-32 sm:mr-4 ' />\n    Wikipedia Viewer\n  </header>\n);\n\nexport default Header;\n","import styled from 'styled-components';\n\nexport const StyledSearchBarContent = styled.div`\n  input {\n    background-size: 30px 30px;\n    background-image: url('https://d30y9cdsu7xlg0.cloudfront.net/png/14173-200.png');\n    background-position: 15px 8px;\n    background-repeat: no-repeat;\n    -webkit-transition: width 0.4s ease-in-out;\n    transition: width 0.4s ease-in-out;\n\n    :focus {\n      width: 80%;\n      border-color: #889ebb;\n    }\n\n    @media (min-width: 640px) {\n      :focus {\n        width: ${props => props.extendedSize};\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport { SEARCH_URL, LOAD_MORE_URL } from './config';\n\nconst AppContext = React.createContext();\n\nconst AppProvider = props => {\n  const [articles, setArticles] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [totalResults, setTotalResults] = useState(0);\n  const [offset, setOffset] = useState(10);\n\n  const searchArticles = async searchTerm => {\n    try {\n      setArticles([]);\n      setTotalResults(0);\n      const result = await (await fetch(`${SEARCH_URL}${searchTerm}`)).json();\n\n      setSearchTerm(searchTerm);\n      setArticles(result.query.search);\n      setTotalResults(result.query.searchinfo.totalhits);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const loadMoreArticles = async searchTerm => {\n    try {\n      setOffset(offset + 10);\n      const result = await (\n        await fetch(`${LOAD_MORE_URL}${searchTerm}&sroffset=${offset}`)\n      ).json();\n      setArticles([...articles, ...result.query.search]);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        searchTerm,\n        articles,\n        totalResults,\n        searchArticles,\n        loadMoreArticles,\n        setSearchTerm,\n        setArticles,\n        setTotalResults\n      }}\n    >\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n\nexport { AppContext, AppProvider };\n","const SEARCH_URL =\n  'https://en.wikipedia.org/w/api.php?origin=*&action=query&list=search&format=json&srsearch=';\n\nconst LOAD_MORE_URL =\n  'https://en.wikipedia.org/w/api.php?origin=*&action=query&list=search&srprop=snippet&format=json&srsearch=';\n\nexport { SEARCH_URL, LOAD_MORE_URL };\n","import React, { useRef, useContext } from 'react';\nimport { useInputChange } from '../utils/useInputChange';\nimport { StyledSearchBarContent } from '../styles/StyledSearchBar';\n\n//Using context props\nimport { AppContext } from '../context';\n\nconst SearchBar = () => {\n  const inputField = useRef(null);\n  const [input, handleInputChange] = useInputChange();\n  const {\n    searchArticles,\n    setSearchTerm,\n    setArticles,\n    setTotalResults\n  } = useContext(AppContext);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    searchArticles(input.search);\n    inputField.current.blur();\n  };\n\n  const onFocus = e => {\n    setSearchTerm('');\n    e.target.placeholder = 'What are you looking for today?';\n    e.target.value = '';\n    setArticles([]);\n    setTotalResults(0);\n  };\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <div className='p-4 mt-2 w-full h-12 flex justify-center'>\n          <StyledSearchBarContent\n            className='relative flex justify-center max-w-screen-xl w-full h-10'\n            extendedSize='50%'\n          >\n            <input\n              type='text'\n              name='search'\n              ref={inputField}\n              onChange={handleInputChange}\n              onFocus={onFocus}\n              onBlur={e => (e.target.placeholder = 'What....')}\n              placeholder='What....'\n              className='rounded-full border-2 px-12 outline-none text-sm sm:text-xl w-8/12 sm:w-4/12\n                  '\n            />\n          </StyledSearchBarContent>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default SearchBar;\n","import { useState } from 'react';\n\nexport const useInputChange = () => {\n  const [input, setInput] = useState({});\n\n  const handleInputChange = e =>\n    setInput({ ...input, [e.currentTarget.name]: e.currentTarget.value });\n\n  return [input, handleInputChange];\n};\n","import styled from 'styled-components';\n\nexport const StyledRandomButton = styled.a`\n  :hover {\n    color: #234562;\n  }\n`;\n","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport { StyledRandomButton } from '../styles/StyledRandomButton';\n\nconst RandomButton = () => {\n  return (\n    <div className='flex justify-center mt-1 p-4 w-full h-4 w-full'>\n      <StyledRandomButton\n        href='https://en.wikipedia.org/wiki/Special:Random'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        <FontAwesome className='fa-random' name='randomSearch' size='lg' />\n      </StyledRandomButton>\n    </div>\n  );\n};\n\nexport default RandomButton;\n","import styled from 'styled-components';\n\nexport const StyledGridItems = styled.div`\n  height: 300px;\n  border-radius: 0.5em;\n  text-align: center;\n  box-shadow: 0px 0px 6px 0px #001215de;\n\n  hr {\n    height: 1px;\n    opacity: 0.3;\n    width: 70%;\n    margin: 0 auto;\n  }\n`;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { StyledGridItems } from '../styles/StyledGridItem';\n\nimport { AppContext } from '../context';\n\nconst GridItem = ({ title, pageId }) => {\n  const [articleData, setArticleData] = useState('');\n  const data = useContext(AppContext);\n  const articleUrl = `https://en.wikipedia.org/w/api.php?origin=*&action=query&pageids=${pageId}&prop=info|extracts&exintro=&explaintext=&inprop=url&format=json&formatversion=2`;\n\n  useEffect(() => {\n    (async () => {\n      const request = await fetch(`${articleUrl}`);\n      const result = await request.json();\n      setArticleData(result.query.pages[0]);\n    })();\n  }, []);\n\n  return (\n    <StyledGridItems className='grid justify-center items-center border-2 border-blue-500'>\n      <div className='text-lg font-bold' style={{ padding: '0 0.5em' }}>\n        {/* Article title*/}\n        {title.substring(0, 30).replace(/\"/g, '')}\n      </div>\n      <div>\n        <hr className='bg-blue-600' />\n      </div>\n      <div>\n        {/* First words of the article */}\n        {articleData.extract &&\n          `${articleData.extract.substring(0, 50).replace(/\\\\|\"/g, '')}...`}\n      </div>\n      <div>\n        {/* Link to the page*/}\n        <a\n          href={data.articles.fullurl}\n          target='_blank'\n          rel='noopener noreferrer'\n          className='italic font-semibold text-gray-500'\n        >\n          Read more\n        </a>\n      </div>\n    </StyledGridItems>\n  );\n};\n\nexport default GridItem;\n","import styled from 'styled-components';\n\nexport const StyledGrid = styled.div`\n  display: grid;\n  grid-gap: 1.5em;\n  justify-content: space-around;\n  grid-template-columns: repeat(auto-fill, 250px);\n  padding: 25px;\n`;\n","import React, { useContext } from 'react';\nimport GridItem from './GridItem';\nimport { StyledGrid } from '../styles/StyledGrid';\n\nimport { AppContext } from '../context';\n\nconst Grid = () => {\n  const data = useContext(AppContext);\n\n  return (\n    <div className='mt-12 h-auto'>\n      {data.totalResults > 0 && (\n        <p className='text-center display-none'>\n          <span className='font-extrabold italic'>{data.totalResults}</span>{' '}\n          Results found !\n        </p>\n      )}\n      <StyledGrid>\n        {/* className='w-full grid gap-5 p-5' */}\n        {data.articles &&\n          data.articles.map(article => (\n            <GridItem\n              key={article.pageid}\n              title={article.title}\n              pageId={article.pageid}\n            />\n          ))}\n      </StyledGrid>\n    </div>\n  );\n};\n\nexport default Grid;\n","import styled from 'styled-components';\n\nexport const StyledLoadMoreButton = styled.button`\n  background-color: #607d8b17;\n\n  :active {\n    outline: none;\n  }\n`;\n","import React, { useRef, useContext, useEffect } from 'react';\nimport { StyledLoadMoreButton } from '../styles/StyledLoadMoreButton';\n\nimport { AppContext } from '../context';\n\nconst LoadMoreButton = () => {\n  const { loadMoreArticles, articles } = useContext(AppContext);\n  const { searchTerm } = useContext(AppContext);\n  const scrollBottom = useRef(null);\n\n  const loadMore = e => {\n    loadMoreArticles(searchTerm);\n  };\n\n  const scrollToBottom = () => {\n    scrollBottom.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [articles]);\n\n  return (\n    <footer\n      onClick={loadMore}\n      className='w-full bottom-0 flex justify-center mb-4'\n      style={{\n        display: articles.length === 0 ? 'none' : '',\n        gridRowStart: 2,\n        gridRowEnd: 3\n      }}\n    >\n      <StyledLoadMoreButton\n        className='px-6 py-2 m-4 bg-gray-200 rounded-lg sm:rounded-full text-lg font-bold'\n        ref={scrollBottom}\n      >\n        Load more !\n      </StyledLoadMoreButton>\n    </footer>\n  );\n};\n\nexport default LoadMoreButton;\n","import React from 'react';\nimport { GlobalStyle } from './styles/GlobalStyle';\nimport Header from './components/Header';\nimport SearchBar from './components/SearchBar';\nimport RandomButton from './components/RandomButton';\nimport Grid from './components/Grid';\nimport LoadMoreButton from './components/LoadMoreButton';\nimport { AppProvider } from './context';\n\nconst App = () => (\n  <AppProvider>\n    <>\n      <GlobalStyle />\n      <Header />\n      <SearchBar />\n      <RandomButton />\n      <Grid />\n      <LoadMoreButton />\n    </>\n  </AppProvider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/tailwind.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}